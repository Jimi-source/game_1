<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skate City Beer Run</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="hud">
      <div class="hud-top">
        <div class="title">Skate City Beer Run</div>
        <button id="muteToggle" class="icon-btn" aria-label="Sound toggle">
          Sound
        </button>
      </div>
      <div class="stats-grid">
        <div class="stat">
          <span class="label">Level</span>
          <span id="level">1</span>
        </div>
        <div class="stat">
          <span class="label">Time</span>
          <span id="time">0.0s</span>
        </div>
        <div class="stat">
          <span class="label">Score</span>
          <span id="score">0</span>
        </div>
        <div class="stat">
          <span class="label">Mugs</span>
          <span><span id="collected">0</span>/<span id="total">0</span></span>
        </div>
      </div>
      <div class="progress-wrap">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div class="energy">
          <div class="energy-label">
            <span>Energy</span>
            <span id="energyValue">100</span>
          </div>
          <div class="energy-bar">
            <div id="energyFill" class="energy-fill"></div>
          </div>
        </div>
        <div class="tasks">
          <div class="tasks-title">Задания</div>
          <ul id="tasksList"></ul>
        </div>
        <div class="controls">
          Управление: ←/→ или A/D — ехать, ↑/W/Space — прыжок, Z/X — трюки
        </div>
      </div>
    </div>

    <div id="overlay" class="center-overlay">
      <div class="panel">
        <h1>Skate City Beer Run</h1>
        <p>
          Собери все кружки, избегай препятствий и доедь до финиша.
          Нажми, чтобы начать.
        </p>
        <div class="field">
          <label for="playerName">Имя игрока</label>
          <input id="playerName" type="text" maxlength="16" placeholder="Skater" />
        </div>
        <button id="startBtn" class="primary-btn">Start</button>
        <div class="leaderboard">
          <h3>Таблица результатов</h3>
          <div id="leaderboardStatus" class="muted">Загрузка...</div>
          <ol id="leaderboardList"></ol>
        </div>
      </div>
    </div>

    <div id="levelComplete" class="center-overlay hidden">
      <div class="panel">
        <h2>Level Complete</h2>
        <p id="levelStats">Great ride.</p>
        <button id="nextBtn" class="primary-btn">Next Level</button>
      </div>
    </div>

    <div class="touch-controls" aria-hidden="true">
      <button class="btn left" data-action="left">◀</button>
      <button class="btn right" data-action="right">▶</button>
      <button class="btn jump" data-action="jump">⤴</button>
      <button class="btn trick1" data-action="trick1">Z</button>
      <button class="btn trick2" data-action="trick2">X</button>
    </div>
    <canvas id="game"></canvas>
    <script type="module" src="./game.js"></script>
  </body>
</html>
